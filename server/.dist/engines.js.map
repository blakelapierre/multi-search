{"version":3,"sources":["engines.ts"],"names":[],"mappings":"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","file":"engines.js","sourcesContent":["class Engine {\n  constructor(public name, public queryUrl, public evaluator) { }\n}\n\nconst Google = new Engine('Google','https://google.com/search?q=', googleEvaluator),\n      DuckDuckGo = new Engine('DuckDuckGo', 'https://duckduckgo.com?q=', duckduckgoEvaluator),\n      Bing = new Engine('Bing', 'https://bing.com?q=', bingEvaluator),\n      Yahoo = new Engine('Yahoo', 'https://search.yahoo.com/search?p=', yahooEvaluator),\n\n      engines = [ Google, DuckDuckGo, Bing, Yahoo ];\n\nfunction googleEvaluator() {\n  const results = document.querySelectorAll('.srg > .g');\n\n  return Array.prototype.reduce.call(results, (agg, result, i) => agg.concat({\n    titles: Array.prototype.reduce.call(result.querySelectorAll('.r'), (agg, result, i) => agg.concat(result.innerText), []),\n    snippet: result.querySelector('.rc .s .st').innerText,\n    url: result.querySelector('.rc .r a').getAttribute('href'),\n    images: Array.prototype.map.call(result.querySelectorAll('img'), r => ({src: r.getAttribute('src'), width: r.getAttribute('width'), height: r.getAttribute('height')}))\n  }), []);\n}\n\nfunction duckduckgoEvaluator() {\n  const results = document.querySelectorAll('#links.results > .result.results_links_deep');\n  \n  return Array.prototype.reduce.call(results, (agg, result, i) => agg.concat({\n    titles: Array.prototype.reduce.call(result.querySelectorAll('.result__title > *:not(.result__check)'), (agg, result, i) => agg.concat(result.innerText), []),\n    snippet: result.querySelector('.result__snippet').innerText,\n    url: result.querySelector('.result__url').getAttribute('href'),\n    images: Array.prototype.map.call(result.querySelectorAll('img:not(.result__icon__img)'), r => ({src: (r.getAttribute('src') || '').replace(/^\\/[^\\/]/, 'http://duckduckgo.com/'), width: r.getAttribute('width'), height: r.getAttribute('height')}))\n  }), []);\n}\n\nfunction bingEvaluator() {\n  const results = document.querySelectorAll('#b_results .b_algo');\n  \n  return Array.prototype.reduce.call(results, (agg, result, i) => agg.concat({\n    titles: Array.prototype.reduce.call(result.querySelectorAll('h2 > a'), (agg, result, i) => agg.concat(result.innerText), []),\n    snippet: (result.querySelector('.b_caption p') || {}).innerText,\n    url: result.querySelector('h2 > a').getAttribute('href'),\n    images: Array.prototype.map.call(result.querySelectorAll('img'), r => ({src: (r.getAttribute('src') || '').replace(/^\\/[^\\/]/, 'https://www.bing.com/'), width: r.getAttribute('width'), height: r.getAttribute('height')}))\n  }), []);\n}\n\nfunction yahooEvaluator() {\n  const results = document.querySelectorAll('.dd.algo.algo-sr');\n  \n  return Array.prototype.reduce.call(results, (agg, result, i) => agg.concat({\n    titles: Array.prototype.reduce.call(result.querySelectorAll('.title > a'), (agg, result, i) => agg.concat(result.innerText), []),\n    snippet: (result.querySelector('.compText p') || {}).innerText,\n    url: result.querySelector('.title > a').getAttribute('href'),\n    images: Array.prototype.map.call(result.querySelectorAll('img'), r => ({src: r.getAttribute('src') , width: r.getAttribute('width'), height: r.getAttribute('height')}))\n  }), []);\n}\n\nexport default engines;"]}